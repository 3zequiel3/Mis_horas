# ============================================================================
# CONFIGURACI칍N EJEMPLO - MIS HORAS
# ============================================================================
# 丘멆잺  IMPORTANTE: Todas las variables son OBLIGATORIAS
# No hay valores por defecto - el contenedor no levantar치 sin todas ellas
# ============================================================================
# INSTRUCCIONES:
# 1. Copiar este archivo a .env en la ra칤z del proyecto
# 2. Completar TODOS los valores (no dejar ninguno vac칤o)
# 3. En producci칩n, cambiar las contrase침as y claves por valores seguros
# ============================================================================

# GENERAL
# NODE_ENV: production|development (desarrollo con live reload)
# FLASK_ENV: production|development (desarrollo con debug)
NODE_ENV=production
FLASK_ENV=production
FLASK_DEBUG=False

# BASE DE DATOS MYSQL
# Solo accesible desde la red interna de Docker
DB_HOST=db
DB_PORT=3306
DB_USER=mis_horas
DB_PASSWORD=mis_horas
DB_NAME=mis_horas
DB_ROOT_PASSWORD=root

# PUERTOS P칔BLICOS - Rango 21000-33000
# Frontend: 21000
# Backend: 22000
FRONTEND_PUBLIC_PORT=21000
BACKEND_PUBLIC_PORT=22000

# BACKEND FLASK
# API_PORT es el puerto interno del contenedor (siempre 5000)
API_HOST=0.0.0.0
API_PORT=5000

# SEGURIDAD
# Generar una nueva clave:
# python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=tu-clave-secreta-super-segura-cambiar-esto-en-produccion
JWT_EXPIRATION_HOURS=720

# CORS - Or칤genes permitidos
# - Desarrollo local: http://localhost:21000
# - Producci칩n: https://tu-servidor.com (sin puerto, HTTPS)
# Separar m칰ltiples or칤genes con comas
CORS_ORIGINS=http://localhost:21000

# FRONTEND ASTRO
# VITE_API_URL: URL que usa el navegador del cliente para conectar al backend
# - Desarrollo local: http://localhost:22000
# - Producci칩n: http://tu-servidor.com:22000 o https://api.tu-servidor.com
# Importante: NO usar http://backend:5000 porque 'backend' no se resuelve en el navegador del cliente
VITE_API_URL=http://localhost:22000

# ============================================================================
# NOTAS IMPORTANTES:
# ============================================================================
# 游 SEGURIDAD DE RED:
# - La BD NO tiene puerto p칰blico, solo acceso interno desde la red mishoras-network
# - El backend y frontend se comunican internamente usando nombres de servicio
# - Los clientes externos acceden solo a trav칠s de los puertos p칰blicos del rango 21000-33000
#
# 游니 PUERTOS:
# - Frontend: http://localhost:21000 (o tu IP/dominio:21000)
# - Backend (API): http://localhost:22000 (o tu IP/dominio:22000)
# - BD MySQL: No accesible desde internet (solo red interna)
#
# 游댕 COMUNICACI칍N:
# - DB_HOST=db (nombre del servicio Docker, no URL)
# - Los contenedores est치n en la red mishoras-network y se resuelven por nombre
#
# 游댏 PRODUCCI칍N:
# - Cambiar SECRET_KEY por un valor seguro
# - Cambiar contrase침as de BD
# - Actualizar CORS_ORIGINS con tus dominios reales
# - Configurar SSL/HTTPS con nginx o similar
#
# 丘멆잺  VERIFICACI칍N:
# - Todas estas variables DEBEN estar definidas
# - Si falta alguna, el contenedor no levantar치
# - Revisar logs: docker compose logs backend
#
# 游댃 DESARROLLO CON LIVE RELOAD:
# Para tener live reload (cambios autom치ticos en el contenedor):
# 1. Cambiar .env a development:
#    NODE_ENV=development
#    FLASK_ENV=development
#    FLASK_DEBUG=True
# 2. Ejecutar: docker compose up -d
# 3. Los contenedores montar치n vol칰menes del c칩digo local
# 4. Cualquier cambio se reflejar치 autom치ticamente
#
# 游낈 PRODUCCI칍N:
# Cambiar .env a production:
#    NODE_ENV=production
#    FLASK_ENV=production
#    FLASK_DEBUG=False
# ============================================================================
